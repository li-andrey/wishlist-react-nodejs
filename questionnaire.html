<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <title>Составьте свой wishlist</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
  <h3>Добавьте желаемый подарок</h3>
  <h4>Название</h4>
  <input type='text' id="title">
  <h4>Комментарий</h4>
  <input type='text' id="comment">
  <h4>На сколько желаем (от 1 до 10)</h4>
  <input type='text' id="desireDegree">
  <h4>Номер</h4>
  <input type='text' id="wishId">
  <div style="padding-top: 30px;">
    <button id="addWish">Добавить</button>

    <button id='updateWish'>Редактировать</button>

    <button id='deleteWish'>Удалить</button>
  </div>
  <form action="/profile" method="post" enctype="multipart/form-data">
    <input type="file" name="avatar" />
  </form>



  <script>
    const serverurl = 'http://localhost:3100'
    let title = $('#title')
    let comment = $('#comment')
    let desireDegree = $('#desireDegree')
    let addWish = $('#addWish')

    addWish.on("click", function () {
      $.ajax({
        url: `${serverurl}/api2/addWish`,
        method: 'POST',
        data: {
          title: title.val(),
          comment: comment.val(),
          desireDegree: desireDegree.val(),
        },
        success: function (msg) {
          console.log(msg)
        }
      })
    })

    let wishId = $('#wishId')
    let updateWish = $('#updateWish')
    updateWish.on("click", function () {
      $.ajax({
        url: `${serverurl}/api2/updateWish/` + wishId.val(),
        method: 'PATCH',
        data: {
          title: title.val(),
          comment: comment.val(),
          desireDegree: desireDegree.val(),
        },
        success: function (msg) {
          console.log(msg)
        }
      })
    })

    let deleteWish = $('#deleteWish')
    deleteWish.on("click", function () {
      $.ajax({
        url: `${serverurl}/api2/deleteWish/` + wishId.val(),
        method: 'DELETE',
        success: function (msg) {
          console.log(msg)
        }
      })
    })
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
</body>

</html>